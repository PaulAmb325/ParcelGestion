<!doctype html>

<html ng-app="angParcelApp">
    <head>
        <meta charset="UTF-8">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
        <script src="/ngparcelGestion.js"></script>
        <title>Parcel Gestion</title>
    </head>
    <body ng-controller="ParcelGestionController">
        <button ng-click="resetScopes()">Reset Filters</button>
        <h1>Choose a parcel to track</h1>
            <table>
                <thead>
                <tr>
                    <th scope="col">Parcel ID</th>
                    <th scope="col">weight (kg)</th>
                    <th scope="col">Customer ID</th>
                    <th scope="col">Location Final</th>
                </tr>
                </thead>
                <tr ng-repeat="parcels in Parcels">
                    <td>{{ parcels.parcelID }}</td>
                    <td>{{ parcels.weight }}</td>
                    <td>{{ parcels.custID }}</td>
                    <td>{{ parcels.finalLoc }}</td>
                    <td ng-click="getLocated(parcels.parcelID)">Show</td>
		</tr>
            </table>
        <h1>Add a Parcel</h1>
            <form ng-submit="addParcel()">
                <label>Weight <input type="number" size="5" ng-model="parc_newWeight" /></label>
                <label>Customer ID <input type="number" size="5" ng-model="parc_newCustId"/> </label>
                <label>Final Location <input type="number" size="5" ng-model="parc_newFinalLoc"/></label>
		  
		<input type="submit"  value="+" />
            </form>
        
        <h1>Choose a customer to track</h1>
            <table>
                <thead>
                <tr>
                    <th scope="col">Customer ID</th>
                    <th scope="col">Customer Name</th>
                    <th scope="col">Customer Location</th>
                </tr>
                </thead>
                <tr ng-repeat="customer in Customers">
                    <td>{{ customer.CustID }}</td>
                    <td>{{ customer.CustName }}</td>
                    <td>{{ customer.CustomerLocation }}</td>
                    <td ng-click="getCustomerParcel(customer.CustID)">Show</td>
		</tr>
            </table>
        <h1>Add a Customer</h1>
            <form ng-submit="addCustomer()">
                <label>Customer Name <input type="text" size="5" ng-model="cust_newCustName"/> </label>
                <label>Customer Location <input type="number" size="5" ng-model="cust_newCustomerLocation"/></label>
		  
		<input type="submit"  value="+" />
            </form>
        
        <h1>Tracking parcel</h1>
             <table>
                <thead>
                <tr>
                    <th scope="col">Parcel ID</th>
                    <th scope="col">Location ID</th>
                    <th scope="col">Date</th>
                    <th scope="col">Time</th>
                    <th scope="col">Operation</th>
                </tr>
                </thead>
                <tr ng-repeat="located in Locateds">
                    <td>{{ located.parcelID }}</td>
                    <td>{{ located.locID }}</td>
                    <td>{{ located.date }}</td>
                    <td>{{ located.time }}</td>
                    <td>{{ located.operation }}</td>
                    <td ng-click="">X</td>
		</tr>
            </table>
        
        <h1>Adding Located</h1>
        <button ng-click="delLast()">Delete Last</button>
        
            <form ng-submit="addLocated()">
                <label>Parcel <input type="number" size="5" ng-model="newParcID" value="{{currentParcel[0].parcelID}}"/></label>
                <label>Location <input type="number" size="5" ng-model="newLocID"/> </label>
                <label>Date <input type="datetime-local" size="30" ng-model="newDate"/></label>
		<label>Time <input type="datetime-local" size="30" ng-model="newTime"/> </label>
                <label>Operation <select ng-model="newOperation"><option value="boarding">Boarding</option><option value="transfer">Transfer</option><option value="delivery">Delivery</option></select> </label>
		  
		<input type="submit"  value="+" />
            </form>
    </body>
</html>

